import{_ as n,X as r,Y as o,Z as e,$ as a,a1 as i,a5 as t,C as g}from"./framework-3159d9f5.js";const l={},c=t(`<h3 id="一、问题产生背景" tabindex="-1"><a class="header-anchor" href="#一、问题产生背景" aria-hidden="true">#</a> 一、问题产生背景</h3><p>工作用的公司 gitlab 账号，自己平常学习用的 github 账号，又只有一个电脑，公司账号当然不能用于 github，所以需要分别配置两套密钥，分别用于自己搞事情研究和公司搬砖使用。</p><h3 id="二、本地-git-账号关联远程-github-gitlab" tabindex="-1"><a class="header-anchor" href="#二、本地-git-账号关联远程-github-gitlab" aria-hidden="true">#</a> 二、本地 git 账号关联远程 github ｜ gitlab</h3><p>我们必须将本地账号关联了远程账户，才能把本地代码提交到远程仓库上。</p><p>道理都一样，我们以 GitHub 为例：</p><p><strong>1、本地创建 ssh-key</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// git bash 查看是否已经创建过ssh-key</span>
ll <span class="token operator">-</span>a <span class="token operator">~</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.ssh</span><span class="token regex-delimiter">/</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504111000.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>首先，进入 .ssh 目录下</p><p>接着，创建 ssh-key，xxxxx@163.com 注意替换成你自己的邮箱账号</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-C</span> <span class="token string">&quot;xxxxx@qq.com&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>一路回车执行完上述命令后，这时会在本地的 .ssh 目录创建两个文件：</p><figure><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504111755.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>2、把 id_rsa_github.pub 文件的内容复制到远程 github 上 👇</strong></p>`,14),d={href:"https://github.com/settings/keys",target:"_blank",rel:"noopener noreferrer"},p=t(`<figure><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504112239.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504112532.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><strong>3、测试拉取项目</strong></p><figure><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504113110.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="hint-container warning"><p class="hint-container-title">未配置多账号</p><p><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504113613.png" alt="" loading="lazy"><br> 我们现在有多个 id_rsa 文件，github 拉取时不知道使用哪一个 需要配置上对应的策略<br><a href="#%E5%9B%9B%E3%80%81%E9%85%8D%E7%BD%AE%E7%A7%98%E9%92%A5%E4%BD%BF%E7%94%A8%E7%AD%96%E7%95%A5">👉策略配置</a></p></div><h3 id="三、git-本地配置多平台账号" tabindex="-1"><a class="header-anchor" href="#三、git-本地配置多平台账号" aria-hidden="true">#</a> 三、git 本地配置多平台账号</h3><p>我们刚刚创建 ssh-key（ <a href="mailto:xxxxx@163.com">xxxxx@163.com</a> 注意替换成你自己的邮箱账号）的时候，生成了两个<strong>id_rsa_github</strong>文件，这样只能适用于一个账号多个平台，不能用于多个账号。</p><p>紧接着，那我们就再生成一套新的密钥，起一个不同的名字，然后通过配置来区分 github 用我们这套新的账号配置，公司 gitlab 用我们刚刚第二步骤里生成的那套账号配置，不就可以了嘛！</p><p>说干就干，还是第一步，先进入到 .ssh 目录：</p><p>再次执行下面命令（这次换成你的另一个账号）</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-C</span> <span class="token string">&quot;xxxxx@qq.com&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>敲回车之后，修改密钥的名称，起一个不同的名字，如下图所示👇。</p><figure><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504114133.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>好了，这样我们就配置了两个账号的密钥，一个用来链接公司的 gitlab，一个用来折腾自己的 GitHub。</p><h3 id="四、配置秘钥使用策略" tabindex="-1"><a class="header-anchor" href="#四、配置秘钥使用策略" aria-hidden="true">#</a> 四、配置秘钥使用策略</h3>`,15),u={class:"hint-container info"},h=e("p",{class:"hint-container-title"},"话又说回来了",-1),b=e("p",null,[e("strong",null,"还有个问题，怎么知道你提交远程仓库的时候，用哪个秘钥呢？")],-1),m={href:"http://xxx.github.com/",target:"_blank",rel:"noopener noreferrer"},x={href:"http://xxx.gitlab.com/",target:"_blank",rel:"noopener noreferrer"},v=t(`<ul><li><strong>在 .ssh 目录新建 config 文件：</strong></li></ul><p>执行命令： <strong>vi config</strong> ，敲下键盘的 <strong>i</strong> 键，切换至输入状态。</p><p>输入以下代码，注意改成你自己的账号，文件名字</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code># 第一个账号，默认使用的账号
Host github.com
HostName github.com
User xxxx@xx.com
IdentityFile ~/.ssh/id_rsa_github


# 第二个账号
Host xxx.gitlab.com  # 你的第二个远程仓库地址，用第二个账号
HostName github.com
User xxxxx2@xx.com  # 你的第二套账号邮箱
IdentityFile ~/.ssh/id_rsa_gitlab # 你的第二套账号对应的秘钥
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>依次按下 <strong>esc</strong> 、 <strong>:</strong> ，输入 <strong>wq</strong> ，敲下回车，保存文件。</li></ul><figure><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504120821.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>然后就可以顺利的进行多账号多个远程仓库的使用啦~</p><h3 id="五、测试一把" tabindex="-1"><a class="header-anchor" href="#五、测试一把" aria-hidden="true">#</a> 五、测试一把</h3><ul><li><strong>github 拉取项目</strong>✅<br><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504121853.png" alt="" loading="lazy"></li><li><strong>gitlab 拉取项目</strong>✅<br><img src="https://raw.githubusercontent.com/202210230530/blog-images/master/blog-images/20230504121920.png" alt="" loading="lazy"></li></ul>`,9);function f(_,k){const s=g("ExternalLinkIcon");return r(),o("div",null,[c,e("blockquote",null,[e("p",null,[a("点击这个链接配置 github keys："),e("strong",null,[e("a",d,[a("GitHub Settings - Keys"),i(s)])])])]),p,e("div",u,[h,b,e("p",null,[a("我们还需要写个配置文件，当提交到公司的远程仓库 "),e("a",m,[a("http://xxx.github.com"),i(s)]),a(" 的时候，我们用账号 A，提交自己的 "),e("a",x,[a("http://xxx.gitlab.com"),i(s)]),a(" 的时候，用账号 B。")])]),v])}const E=n(l,[["render",f],["__file","GIT多账号管理.html.vue"]]);export{E as default};
